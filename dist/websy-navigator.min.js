"use strict";var _createClass=function(){function e(t,i){for(var s=0;s<i.length;s++){var e=i[s];e.t=e.t||!1,e.i=!0,"value"in e&&(e.s=!0),Object.defineProperty(t,e.key,e)}}return function(t,i,s){return i&&e(t.prototype,i),s&&e(t,s),t}}();function _classCallCheck(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}var WebsyNavigator=function(){function v(t){_classCallCheck(this,v);var i={h:"nav-item",u:"view",o:"active",v:"data-view",l:"data-group",defaultView:"",m:"main",k:[]};if(window.addEventListener("popstate",this.p.bind(this)),this.options=Object.assign({},i,t),this.options.u!==i.u||this.options.o!==i.o){var s="\n        <style>\n          ."+this.options.u+"{ display: none; }\n          ."+this.options.u+"."+this.options.o+"{ display: initial; }\n        </style>\n      ";document.querySelector("head").innerHTML+=s}for(var e=document.getElementsByClassName(this.options.h),a=0;a<e.length;a++){var n=e[a].attributes[this.options.v];if(n&&""!==n.value){var h=e[a].attributes[this.options.l],r=this.options.m;h&&""!==h.value&&(r=h.value),e[a].classList.add(this.options.h+"-"+r),e[a].addEventListener("click",this.navigate.bind(this,n.value,r))}}for(var u=document.getElementsByClassName(this.options.u),c=0;c<u.length;c++){var o=u[c].attributes[this.options.l];o&&""!==o.value?u[c].classList.add(this.options.u+"-"+o.value):u[c].classList.add(this.options.u+"-"+this.options.m)}this.navigate(this.C,this.options.m)}return _createClass(v,[{key:"navigate",value:function(i,t){""==i&&(i=this.options.defaultView),this.g(t),this.I(t),this._(i,this.options.h),this._(i,this.options.u);var s=this.C;this.C!==i&&t===this.options.m&&history.pushState({path:i},i,i),this.options.k.forEach(function(t){t.call(null,i,s)})}},{key:"onPopState",value:function(t){this.navigate(t.state.path)}},{key:"subscribe",value:function(t){this.options.k.push(t)}},{key:"hideMenuItems",value:function(t){var i=this.options.h;t&&(i+="-"+t),this.j(i)}},{key:"hideViewItems",value:function(t){var i=this.options.u;t&&(i+="-"+t),this.j(i)}},{key:"hideItems",value:function(t){var i=document.getElementsByClassName(t);if(i)for(var s=0;s<i.length;s++)i[s].classList.remove(this.options.o)}},{key:"activateItem",value:function(t,i){var s=document.getElementsByClassName(i);if(s)for(var e=0;e<s.length;e++)if(s[e].attributes[this.options.v]&&s[e].attributes[this.options.v].value===t){s[e].classList.add(this.options.o);break}}},{key:"currentPath",get:function(){var t=window.location.pathname.split("/").pop();return-1!==t.indexOf(".htm")?"":t}}]),v}();